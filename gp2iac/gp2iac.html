<script type="text/javascript">
    RED.nodes.registerType('gp2iac',{
        category: 'iaCloud',
        color:"rgb(231, 180, 100)",
        defaults: {
            name: {value:"gp2iac"},
            objectkey: {value:"ia-cloud-Node-Red.uniqueKey"},
            sensortype: {value:""},
            dataName1: {value:""},
            unit1: {value:""},
            dataName2: {value:""},
            unit2: {value:""},
            dataName3: {value:""},
            unit3: {value:""}
        },
        inputs:1,
        outputs:1,
        icon: "ia-cloud.png",
        label: function() {
            return this.name||"gp2iac";
        },
        oneditprepare: function() {
            $("#node-input-sensortype").change(function() {
                if ($(this).val() == "button") {
                    $('#node-input-dataName1').val("ボタンセンサー");
                    $('#node-input-unit1').val("is_pressed");
                    $('#node-input-dataName2').val("dummy");
                    $('#node-input-unit2').val("value");
                    $('#node-input-dataName3').val("dummy");
                    $('#node-input-unit3').val("value");
                }else if($(this).val() == "ultrasonic"){
                    $('#node-input-dataName1').val("距離");
                    $('#node-input-unit1').val("cm");
                    $('#node-input-dataName2').val("dummy");
                    $('#node-input-unit2').val("value");
                    $('#node-input-dataName3').val("dummy");
                    $('#node-input-unit3').val("value");
                }else if($(this).val() == "dht11"){
                    $('#node-input-dataName1').val("温度");
                    $('#node-input-unit1').val("℃");
                    $('#node-input-dataName2').val("湿度");
                    $('#node-input-unit2').val("%");
                    $('#node-input-dataName3').val("ヒートインデックス");
                    $('#node-input-unit3').val("HI");
                }
            });

        }

    });


</script>

<script type="text/x-red" data-template-name="gp2iac">
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i>ノード名</label>
        <input type="text" id="node-input-name" placeholder="ノード名">
    </div>
    <div class="form-row">
        <label for="node-input-objectkey"><i class="fa fa-key"></i>objectKey</label>
        <input type="text" id="node-input-objectkey" placeholder="objectKey">
    </div>
    <div class="form-tips"><b>Tip:</b> <br>
        objectkeyはuniqueになるよう設定してください。
    </div>
    <br>
    <div class="form-row" id="grovepi-digital-type-row">
        <label for="node-input-sensortype"><i class="fa fa-tags"></i>Sensor Type</label>
        <select id="node-input-sensortype">
            <option value="button">Button</option>
            <option value="ultrasonic">Ultrasonic Range</option>
            <option value="dht11">Temperature / Humidity DHT11</option>
        </select>
    </div>
    <div class="form-row">
        <label for="node-input-dataName1">dataName1<br>(種類)</label>
        <input type="text" id="node-input-dataName1" placeholder="dataName1">
    </div>
    <div class="form-row">
        <label for="node-input-unit1">unit1(単位)</label>
        <input type="text" id="node-input-unit1" placeholder="unit1">
    </div>
    <br>
    <div class="form-row">
        <label for="node-input-dataName2">dataName2<br>(種類)</label>
        <input type="text" id="node-input-dataName2" placeholder="dataName2">
    </div>
    <div class="form-row">
        <label for="node-input-unit2">unit2(単位)</label>
        <input type="text" id="node-input-unit2" placeholder="unit2">
    </div>
    <br>
    <div class="form-row">
        <label for="node-input-dataName3">dataName3<br>(種類)</label>
        <input type="text" id="node-input-dataName3" placeholder="dataName3">
    </div>
    <div class="form-row">
        <label for="node-input-unit3">unit3(単位)</label>
        <input type="text" id="node-input-unit3" placeholder="unit3">
    </div>
</script>

<script type="text/x-red" data-help-name="gp2iac">
    <p>このノードはGrove Piセンサー取得ノードから出力された値を、ia-cloud-cnctで処理できる形に変換するノードです。</p>
</script>
